(function(t){function e(e){for(var r,i,o=e[0],l=e[1],c=e[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);p&&p(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},s={app:0},n=[];function i(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"421c482d"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,r){a=s[t]=[e,r]});e.push(a[2]=r);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=i(t);var c=new Error;n=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=s[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",c.name="ChunkLoadError",c.type=r,c.request=n,a[1](c)}s[t]=void 0}};var u=setTimeout(function(){n({type:"timeout",target:l})},12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var p=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0f64":function(t,e,a){"use strict";var r=a("b227"),s=a.n(r);s.a},"0f9d":function(t,e,a){},"13e3":function(t,e,a){},"21bb":function(t,e,a){"use strict";var r=a("0f9d"),s=a.n(r);s.a},"2e4f":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"bg_color_none"},[a("Header"),a("div",{staticClass:"content"},[a("router-view")],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:"/"}},[a("span",[t._v("My")]),a("b",[t._v("IMDB")])])],1),a("div",{staticClass:"menu"},[a("div",{staticClass:"main_nav"},[a("router-link",{attrs:{to:"/"}},[a("span",{staticClass:"mr-2"},[t._v("HOME")])])],1)])])},o=[],l=(a("f708"),a("2877")),c={},u=Object(l["a"])(c,i,o,!1,null,"c2c46dbc",null),p=u.exports,d={name:"App",components:{Header:p},data:()=>({})},v=d,f=(a("5c0b"),a("6544")),m=a.n(f),b=a("7496"),_=Object(l["a"])(v,s,n,!1,null,null,null),h=_.exports;m()(_,{VApp:b["a"]});var w=a("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{ref:"bannerSlide",staticClass:"banner"},[t.indexBannerData.length>0?a("swiper",{attrs:{options:t.swiperBanner}},t._l(t.indexBannerData,function(t,e){return a("swiper-slide",{key:e},[a("img",{attrs:{src:t.banner}})])}),1):t._e(),a("div",{staticClass:"swiper-button-prev swiper-button",attrs:{slot:"button-prev"},slot:"button-prev"},[a("font-awesome-icon",{attrs:{icon:"chevron-left"}})],1),a("div",{staticClass:"swiper-button-next swiper-button",attrs:{slot:"button-next"},slot:"button-next"},[a("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1),a("div",{staticClass:"lists series_list",attrs:{id:"series"}},[a("div",{staticClass:"container"},[t._m(0),t.seriesData.length>0?a("swiper",{attrs:{options:t.swiperFavoriteSeries}},t._l(t.seriesData,function(e,r){return a("swiper-slide",{key:r},[a("div",[a("router-link",{attrs:{to:{name:"film details",params:{id:e.imdb_id}}}},[a("img",{attrs:{src:e.wallpaper}})])],1),a("div",{staticClass:"list_content"},[a("div",{staticClass:"rates"},[t._l(t.rateStarWithEmpty(e.rates),function(e,r){return a("span",{key:r},["star"===e?a("font-awesome-icon",{attrs:{icon:"star"}}):t._e(),"half"===e?a("font-awesome-icon",{attrs:{icon:"star-half-alt"}}):t._e(),"empty"===e?a("font-awesome-icon",{attrs:{icon:["far","star"]}}):t._e()],1)}),a("b",[t._v(t._s(e.rates.toFixed(1)))])],2),a("div",{staticClass:"movie_title"},[a("h2",[t._v(t._s(e.name))])]),a("div",{staticClass:"discription"},[a("p",[t._v(t._s(e.brief))])])])])}),1):t._e()],1),a("div",{staticClass:"swiper-button-prev swiper-button",attrs:{slot:"button-prev"},slot:"button-prev"}),a("div",{staticClass:"swiper-button-next swiper-button",attrs:{slot:"button-next"},slot:"button-next"})]),a("div",{staticClass:"lists movie_list",attrs:{id:"movies"}},[a("div",{staticClass:"container"},[t._m(1),t.moviesData.length>0?a("swiper",{attrs:{options:t.swiperFavoriteMovies}},t._l(t.moviesData,function(e,r){return a("swiper-slide",{key:r},[a("div",[a("img",{attrs:{src:e.wallpaper}})]),a("div",{staticClass:"list_content"},[a("div",{staticClass:"rates"},[t._l(t.rateStarWithEmpty(e.rates),function(e,r){return a("span",{key:r},["star"===e?a("font-awesome-icon",{attrs:{icon:"star"}}):t._e(),"half"===e?a("font-awesome-icon",{attrs:{icon:"star-half-alt"}}):t._e(),"empty"===e?a("font-awesome-icon",{attrs:{icon:["far","star"]}}):t._e()],1)}),a("b",[t._v(t._s(e.rates.toFixed(1)))])],2),a("div",{staticClass:"movie_title"},[a("h2",[t._v(t._s(e.name))])]),a("div",{staticClass:"discription"},[a("p",[t._v(t._s(e.brief))])])])])}),1):t._e()],1),a("div",{staticClass:"swiper-button-prev swiper-button",attrs:{slot:"button-prev"},slot:"button-prev"}),a("div",{staticClass:"swiper-button-next swiper-button",attrs:{slot:"button-next"},slot:"button-next"})])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-header"},[a("h2",[t._v("Favorite Series")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-header"},[a("h2",[t._v("Favorite Movies")])])}];const C=t=>{let e=t,a=[];for(let r=5;r>0;r--)e>=2?a.push("star"):e>=1?a.push("half"):a.push("empty"),e-=2;return a};var x={data(){return{swiperBanner:{speed:800,loop:!0,effect:"fade",autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".banner .swiper-button-next",prevEl:".banner .swiper-button-prev"},pagination:{el:".banner .swiper-pagination",clickable:!0}},swiperFavoriteSeries:{slidesPerView:5,spaceBetween:30,speed:800,loop:!0,breakpoints:{1199:{slidesPerView:4},768:{slidesPerView:3}},navigation:{nextEl:".series_list .swiper-button-next",prevEl:".series_list .swiper-button-prev"}},swiperFavoriteMovies:{slidesPerView:5,spaceBetween:30,speed:800,loop:!0,breakpoints:{1199:{slidesPerView:4},768:{slidesPerView:3}},navigation:{nextEl:".movie_list .swiper-button-next",prevEl:".movie_list .swiper-button-prev"}}}},computed:{moviesData(){return this.$store.getters.filterFavoriteMovies.sort((t,e)=>{return e.rates-t.rates})},seriesData(){return this.$store.getters.filterFavoriteSeries.sort((t,e)=>{return e.rates-t.rates})},indexBannerData(){return this.$store.getters.filterIndexBanner}},methods:{rateStarWithEmpty(t){return C(t)}}},D=x,E=(a("21bb"),Object(l["a"])(D,y,g,!1,null,null,null)),O=E.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"film_details"},[a("div",{ref:"bannerSlide",staticClass:"banner"},[t.bannerData.length>0?a("swiper",{attrs:{options:t.swiperBanner}},t._l(t.bannerData,function(t,e){return a("swiper-slide",{key:e},[a("img",{attrs:{src:t}})])}),1):t._e(),a("div",{staticClass:"swiper-button-prev swiper-button",attrs:{slot:"button-prev"},slot:"button-prev"}),a("div",{staticClass:"swiper-button-next swiper-button",attrs:{slot:"button-next"},slot:"button-next"})],1),a("div",{staticClass:"container"},[a("div",{staticClass:"main"},[a("div",{staticClass:"row"},[a("div",{staticClass:"wallpaper"},[a("img",{attrs:{src:t.filmData.wallpaper}})]),a("div",{staticClass:"main_info"},[a("h1",[t._v(t._s(t.filmData.name))]),a("h2",{staticClass:"tw_name"},[a("b",[t._v("中文片名：")]),a("span",[t._v(t._s(t.filmData.tw_name))])]),a("div",[t._v(t._s(t.bannerData))])])])])])])},S=[],j={data(){return{swiperBanner:{speed:800,loop:!0,effect:"fade",autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".banner .swiper-button-next",prevEl:".banner .swiper-button-prev"}},filmData:{favorite:!1,imdb_id:"",my_rate:0,name:"",page_banners:{},rates:0,tw_name:"",type:"",wallpaper:""},bannerData:[]}},computed:{getFilmData(){return this.$store.state.currentFilm}},created(){this.$store.dispatch("loadedFilm",this.$route.params.id)},watch:{getFilmData(t){if(t){const e=t.page_banners,a=[],r=Object.keys(e);r.forEach(t=>{a.push(e[t])}),this.bannerData=a,this.filmData=t}}}},k=j,M=(a("0f64"),Object(l["a"])(k,F,S,!1,null,null,null)),B=M.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movies"},[t._v("\n  test\n")])},P=[],T={},I=Object(l["a"])(T,$,P,!1,null,null,null),L=I.exports;r["a"].use(w["a"]);var V=new w["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:O},{path:"/about",name:"about",component:()=>a.e("about").then(a.bind(null,"f820"))},{path:"/film_details/:id",name:"film details",component:B},{path:"/movies",name:"movies",component:L}]}),A=a("2f62"),q=a("8aa5");r["a"].use(A["a"]);var H=new A["a"].Store({state:{movies:[],series:[],currentFilm:null},mutations:{setLoadedMovies(t,e){t.movies=e},setLoadedSeries(t,e){t.series=e},setCurrentFilm(t,e){t.currentFilm=e}},actions:{loadedMovies({commit:t}){q["database"]().ref("movies").orderByChild("type").equalTo("movies").once("value").then(e=>{const a=[],r=e.val();for(let t in r)a.push({id:t,name:r[t].name,brief:r[t].brief,wallpaper:r[t].wallpaper,rates:r[t].rates,favorite:r[t].favorite,my_rate:r[t].my_rate});t("setLoadedMovies",a)})},loadedSeries({commit:t}){q["database"]().ref("movies").orderByChild("type").equalTo("series").once("value").then(e=>{const a=[],r=e.val();for(let t in r)a.push({id:t,name:r[t].name,brief:r[t].brief,wallpaper:r[t].wallpaper,rates:r[t].rates,favorite:r[t].favorite,my_rate:r[t].my_rate,index_banner:r[t].index_banner,banner:r[t].banner,imdb_id:r[t].imdb_id,tw_name:r[t].tw_name});t("setLoadedSeries",a)})},loadedFilm({commit:t},e){q["database"]().ref("movies").orderByChild("imdb_id").equalTo(e).once("value").then(e=>{const a=e.val(),r=a[Object.keys(a)[0]];t("setCurrentFilm",r)})}},getters:{filterFavoriteMovies(t){const e=t.movies.filter(t=>{return!0===t.favorite});return e},filterFavoriteSeries(t){const e=t.series.filter(t=>{return!0===t.favorite});return e},filterIndexBanner(t){const e=t.series.filter(t=>{return!0===t.index_banner});return e}}}),R=a("f309");r["a"].use(R["a"]);var z=new R["a"]({icons:{iconfont:"mdi"}}),W=a("7212"),J=a.n(W),K=(a("dfa4"),a("ecee")),U=a("ad3d"),X=a("b702"),G=a("c074");K["c"].add(G["c"],X["a"],G["d"],G["b"],G["a"]),r["a"].use(J.a),r["a"].component("font-awesome-icon",U["a"]),r["a"].config.productionTip=!1,new r["a"]({router:V,store:H,vuetify:z,render:t=>t(h),created(){Object(q["initializeApp"])({apiKey:"AIzaSyDitZDXRiRvRKcG8HoUzD9x7bX2t27FOME",authDomain:"movies-a4f0a.firebaseapp.com",databaseURL:"https://movies-a4f0a.firebaseio.com",projectId:"movies-a4f0a",storageBucket:"movies-a4f0a.appspot.com"}),this.$store.dispatch("loadedMovies"),this.$store.dispatch("loadedSeries")}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var r=a("13e3"),s=a.n(r);s.a},b227:function(t,e,a){},f708:function(t,e,a){"use strict";var r=a("2e4f"),s=a.n(r);s.a}});
//# sourceMappingURL=app.ab5b3b33.js.map